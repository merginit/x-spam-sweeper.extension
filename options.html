<!--
  X Spam Sweeper
  Copyright (C) 2025 Jonas Fröller

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program. If not, see <https://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spam Sweeper Settings</title>
  <link rel="stylesheet" href="options.css">
</head>

<body>
  <div class="container">
    <header>
      <h1>
        <svg viewBox="0 0 24 24" fill="currentColor" class="logo">
          <path
            d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
        </svg>
        Spam Sweeper Settings
      </h1>
    </header>

    <main>
      <!-- General Settings Section -->
      <section class="settings-section">
        <h2>
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" />
          </svg>
          General Settings
        </h2>
        <p class="section-desc">Configure extension behavior.</p>

        <div class="toggle-setting">
          <label class="toggle-label" for="autoLoadAllToggle">
            <div class="toggle-info">
              <span class="toggle-title">Auto-load all messages</span>
              <span class="toggle-desc">Automatically scroll to load all message requests when opening popup</span>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" id="autoLoadAllToggle" />
              <span class="toggle-slider"></span>
            </div>
          </label>
        </div>
      </section>

      <!-- URL Patterns Section -->
      <section class="settings-section">
        <h2>
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" />
          </svg>
          High-Risk URL Patterns
        </h2>
        <p class="section-desc">Add custom domains to flag as high-risk spam.</p>

        <div id="urlPatternsList" class="patterns-list"></div>

        <div class="add-form">
          <input type="text" id="newUrlPattern" placeholder="e.g. scam-site.com" />
          <button id="addUrlPatternBtn" class="btn btn-primary">Add</button>
        </div>
      </section>

      <!-- Keyword Weights Section -->
      <section class="settings-section">
        <h2>
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" />
          </svg>
          Custom Keywords
        </h2>
        <p class="section-desc">Add keywords with spam weights (1-10). Score ≥3 shows "?" badge, ≥10 shows "SUS".</p>

        <div id="keywordWeightsList" class="keywords-list"></div>

        <div class="add-form">
          <input type="text" id="newKeyword" placeholder="e.g. free money" />
          <div class="number-input-wrapper add-form-spinner">
            <button type="button" class="spin-btn spin-down" id="newKeywordWeightDown">−</button>
            <input type="number" id="newKeywordWeight" min="1" max="10" value="3" />
            <button type="button" class="spin-btn spin-up" id="newKeywordWeightUp">+</button>
          </div>
          <button id="addKeywordBtn" class="btn btn-primary">Add</button>
        </div>
      </section>

      <!-- Actions -->
      <section class="actions-section">
        <button id="resetBtn" class="btn btn-danger">Reset to Defaults</button>
        <span id="saveStatus" class="save-status"></span>
      </section>
    </main>

    <footer>
      <p>Changes are saved automatically</p>
    </footer>
  </div>

  <script src="options.js"></script>
</body>

</html>